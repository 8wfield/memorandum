name: Sub-Store
description: 'æ”¯æŒ Egern çš„å‚æ•°è®¾ç½®åŠŸèƒ½ã€‚æµ‹è½åœ°åŠŸèƒ½ ability: http-client-policyï¼ŒåŒæ­¥é…ç½®çš„å®šæ—¶ cronexp: 55 23 * * *'
compat_arguments:
  ability: http-client-policy
  cronexp: 55 23 * * *
  sync: '"Sub-Store Sync"'
  timeout: '120'
  engine: auto
  produce: '"# Sub-Store Produce"'
  produce_cronexp: 50 */6 * * *
  produce_sub: '"sub1,sub2"'
  produce_col: '"col1,col2"'
compat_arguments_desc: |
  1ï¸âƒ£ ability

  é»˜è®¤å·²å¼€å¯æµ‹è½åœ°èƒ½åŠ›
  éœ€è¦é…åˆè„šæœ¬æ“ä½œ
  å¦‚ https://raw.githubusercontent.com/Keywos/rule/main/cname.js
  å¡«å†™ä»»æ„å…¶ä»–å€¼å…³é—­

  2ï¸âƒ£ cronexp

  åŒæ­¥é…ç½®å®šæ—¶ä»»åŠ¡
  é»˜è®¤ä¸ºæ¯å¤© 23 ç‚¹ 55 åˆ†
  å®šæ—¶ä»»åŠ¡æŒ‡å®šæ—¶å°†è®¢é˜…/æ–‡ä»¶ä¸Šä¼ åˆ°ç§æœ‰ Gistï¼Œåœ¨å‰ç«¯ï¼Œå«åš "åŒæ­¥" æˆ– "åŒæ­¥é…ç½®"

  3ï¸âƒ£ sync

  è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡å
  ä¾¿äºåœ¨è„šæœ¬ç¼–è¾‘å™¨ä¸­é€‰æ‹©
  è‹¥è®¾ä¸º # å¯å–æ¶ˆå®šæ—¶ä»»åŠ¡

  4ï¸âƒ£ timeout

  è„šæœ¬è¶…æ—¶ï¼Œå•ä½ä¸ºç§’

  5ï¸âƒ£ engine

  é»˜è®¤ä¸ºè‡ªåŠ¨ä½¿ç”¨ webview å¼•æ“ï¼Œå¯è®¾ä¸ºæŒ‡å®š jscï¼Œä½† jsc å®¹æ˜“çˆ†å†…å­˜

  6ï¸âƒ£ produce

  è‡ªå®šä¹‰å¤„ç†è®¢é˜…çš„å®šæ—¶ä»»åŠ¡å
  ä¸€èˆ¬ç”¨äºå®šæ—¶å¤„ç†è€—æ—¶è¾ƒé•¿çš„è®¢é˜…ï¼Œä»¥æ›´æ–°ç¼“å­˜
  è¿™æ · Egern ä¸­æ‹‰å–æ—¶å°±èƒ½ç”¨åˆ°ç¼“å­˜ï¼Œä¸è‡³äºæ€»æ˜¯è¶…æ—¶
  è‹¥è®¾ä¸º # å¯å–æ¶ˆæ­¤å®šæ—¶ä»»åŠ¡
  é»˜è®¤ä¸å¼€å¯

  7ï¸âƒ£ produce_cronexp

  é…ç½®å¤„ç†è®¢é˜…çš„å®šæ—¶ä»»åŠ¡
  é»˜è®¤ä¸ºæ¯ 6 å°æ—¶

  9ï¸âƒ£ produce_sub

  è‡ªå®šä¹‰éœ€å®šæ—¶å¤„ç†çš„å•æ¡è®¢é˜…å
  å¤šä¸ªç”¨ , è¿æ¥

  ğŸ”Ÿ produce_col

  è‡ªå®šä¹‰éœ€å®šæ—¶å¤„ç†çš„ç»„åˆè®¢é˜…å
  å¤šä¸ªç”¨ , è¿æ¥

  âš ï¸ æ³¨æ„: æ˜¯ åç§°(name) ä¸æ˜¯ æ˜¾ç¤ºåç§°(displayName)
  å¦‚æœåç§°éœ€è¦ç¼–ç ï¼Œè¯·ç¼–ç åå†ç”¨ , è¿æ¥
  é¡ºåº: å¹¶å‘æ‰§è¡Œå•æ¡è®¢é˜…ï¼Œç„¶åå¹¶å‘æ‰§è¡Œç»„åˆè®¢é˜…
scriptings:
- http_request:
    name: Sub-Store Core
    match: ^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info)))
    script_url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/release/sub-store-1.min.js
    body_required: true
- http_request:
    name: Sub-Store Simple
    match: ^https?:\/\/sub\.store
    script_url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/release/sub-store-0.min.js
    body_required: true
- schedule:
    name: '{{{sync}}}'
    cron: '{{{cronexp}}}'
    script_url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/release/cron-sync-artifacts.min.js
- schedule:
    name: '{{{produce}}}'
    cron: '{{{produce_cronexp}}}'
    script_url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/release/cron-sync-artifacts.min.js
    arguments:
      $argument: '"sub={{{produce_sub}}}&col={{{produce_col}}}"'
mitm:
  hostnames:
    includes:
    - sub.store