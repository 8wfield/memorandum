name: ç½‘æ˜“äº‘éŸ³ä¹
description: ç½‘æ˜“äº‘éŸ³ä¹å…¨é¢å‡€åŒ–
open_url: https://apps.apple.com/app/id590338362
author: RuCu6[https://github.com/RuCu6], Keywos[https://github.com/Keywos], qiuxiuya[https://github.com/qiuxiuya], anyehttp[https://github.com/anyehttp], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
icon: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/NeteaseMusic.png
compat_arguments:
  # åº•éƒ¨å¯¼èˆªæ æ§åˆ¶
  éšè—åº•éƒ¨å‘ç°æ ‡ç­¾: 'ture'
  éšè—åº•éƒ¨æ¼«æ¸¸æ ‡ç­¾: 'ture'
  éšè—åº•éƒ¨ç¬”è®°æ ‡ç­¾: 'ture'
  
  # é¦–é¡µå†…å®¹è¿‡æ»¤
  éšè—é¦–é¡µé—®å€™è¯­: 'false'
  éšè—é¦–é¡µæ’è¡Œæ¦œ: 'false'
  éšè—é¦–é¡µæ¯æ—¥æ¨è: 'false'
  éšè—é¦–é¡µæ¨èæ­Œå•: 'false'
  éšè—é¦–é¡µæœ€è¿‘å¸¸å¬: 'false'
  éšè—é¦–é¡µé›·è¾¾æ­Œå•: 'false'
  éšè—é¦–é¡µéŸ³ä¹åˆä¼™äºº: 'false'
  éšè—é¦–é¡µä¸“å±æ­Œå•: 'false'
  éšè—é¦–é¡µä½ çš„ä¸“å±æ­Œå•: 'false'
  
  # ä¼šå‘˜åŠŸèƒ½æ§åˆ¶
  å¯ç”¨å…±äº«ä¼šå‘˜: 'ture'

compat_arguments_desc: |
  å¸ƒå±€æ§åˆ¶å‚æ•° (true=éšè—/false=æ˜¾ç¤º):
  â”œâ”€ åº•éƒ¨å¯¼èˆª: å‘ç°/æ¼«æ¸¸/ç¬”è®°æ ‡ç­¾
  â”œâ”€ é¦–é¡µæ¨¡å—: é—®å€™è¯­/æ’è¡Œæ¦œ/æ¯æ—¥æ¨èç­‰
  â””â”€ ä¼šå‘˜åŠŸèƒ½: å…±äº«VIPçŠ¶æ€å¼€å…³
  å‚æ•°æ ¼å¼: 
  éšè—ç±» â†’ [true, false] 
  ä¼šå‘˜å¼€å…³ â†’ [true, false]
rules:
- domain:
    match: iadmat.nosdn.127.net
    policy: REJECT
- domain:
    match: iadmatapk.nosdn.127.net
    policy: REJECT
- domain:
    match: iadmusicmat.music.126.net
    policy: REJECT
- domain:
    match: iadmusicmatvideo.music.126.net
    policy: REJECT
- domain:
    match: ipv4.music.163.com
    policy: REJECT
- domain:
    match: ipv6.music.163.com
    policy: REJECT
map_locals:
- match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/(?:delivery\/(batch-)?deliver|moment\/tab\/info\/|side-bar\/mini-program\/music-service\/account|yunbei\/account\/entrance\/)
  status_code: 200
  body: '{}'
- match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/(?:community\/friends\/fans-group\/artist\/group\/|mine\/applet\/redpoint|music\/songshare\/text\/recommend\/|resniche\/position\/play\/new\/|resniche\/tspopup\/show|resource\/comments?\/musiciansaid\/|user\/sub\/artist)
  status_code: 200
  body: '{}'
- match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/(?:ios\/version|mlivestream\/entrance\/playpage\/|link\/position\/show\/strategy|link\/scene\/show\/resource|v1\/content\/exposure\/comment\/banner\/)
  status_code: 200
  body: '{}'
- match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/w?eapi\/(?:activity\/bonus\/playpage\/time\/query|resource-exposure\/|search\/(?:chart\/|rcmd\/keyword\/|specialkeyword\/))
  status_code: 200
  body: '{}'
- match: ^https:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/my\/podcast\/tab\/recommend
  status_code: 200
  body: '{}'
- match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/e?api\/(ocpc\/)?ad\/
  headers:
    Content-Type: text/plain
  body: ''
- match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163.com\/w?e?api\/search\/default
  headers:
    Content-Type: text/plain
  body: ''
scriptings:
- http_request:
    name: é»‘èƒ¶ä¼šå‘˜è§£é”æ ¸å¿ƒæ¥å£
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/.*(player\/url|entrance|\/eapi\/search\/)
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js

- http_request:
    name: æ’­æ”¾é¡µä¼šå‘˜æ­Œæ›²è§£é”
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/(?:v1\/artist\/top\/song|v3\/discovery\/recommend\/songs)
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: æ­Œæ›²è¯¦æƒ…è§£é”
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/v3\/song\/detail
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: ç‰¹æ®ŠéŸ³æ•ˆåŠŸèƒ½è§£é”
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/song\/(?:chorus|enhance\/|play\/|type\/detail\/get)
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: æ’­æ”¾å™¨çš®è‚¤è§£é”
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/playermode\/
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: æœç´¢ç»“æœä¼šå‘˜è¿‡æ»¤
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/search\/(?:complex\/page|complex\/rec\/song\/get|song\/list\/page)
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: ä¾§è¾¹æ VIPçŠ¶æ€æ˜¾ç¤º
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/vipnewcenter\/app\/resource\/newaccountpage
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: æ­Œå•VIPè®¤è¯å¤„ç†
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/w?e?api\/(?:homepage\/|v6\/)?playlist\/(?!(?:delete|subscribe|unsubscribe))
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_request:
    name: éŸ³è´¨è®¤è¯æ¥å£å¤„ç†
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/vipauth\/app\/auth\/(soundquality\/)?query
    script_url: https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/NeteaseMusic/CloudMusicVIP.js
    body_required: false
    binary_body: false

- http_response:
    name: è¯„è®ºåŒºå¹¿å‘Šè¿‡æ»¤
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/(?:batch|v2\/resource\/comment\/floor\/get)
    script_url: https://raw.githubusercontent.com/Keywos/rule/main/script/wy/js/wyres.js
    body_required: true
    binary_body: true

- http_response:
    name: ä¸»é¡µæ¨èå†…å®¹è¿‡æ»¤
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/(?:homepage\/block\/page|link\/page\/rcmd\/(?:block\/resource\/multi\/refresh|resource\/show))
    script_url: https://raw.githubusercontent.com/Keywos/rule/main/script/wy/js/wyres.js
    arguments:
      _compat.$argument: '{"PRGG":{{{éšè—é¦–é¡µé—®å€™è¯­}}},"PRRK":{{{éšè—é¦–é¡µæ’è¡Œæ¦œ}}},"PRDRD":{{{éšè—é¦–é¡µæ¯æ—¥æ¨è}}},"PRSCVPT":{{{éšè—é¦–é¡µæ¨èæ­Œå•}}},"PRST":{{{éšè—é¦–é¡µæœ€è¿‘å¸¸å¬}}},"PRRR":{{{éšè—é¦–é¡µé›·è¾¾æ­Œå•}}},"HMPR":{{{éšè—é¦–é¡µéŸ³ä¹åˆä¼™äºº}}},"PRMST":{{{éšè—é¦–é¡µä¸“å±æ­Œå•}}},"PRCN":{{{éšè—é¦–é¡µä½ çš„ä¸“å±æ­Œå•}}}}'
    body_required: true
    binary_body: true

- http_response:
    name: åº•éƒ¨å¯¼èˆªæ è°ƒæ•´
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/link\/home\/framework\/tab
    script_url: https://raw.githubusercontent.com/Keywos/rule/main/script/wy/js/wyres.js
    arguments:
      _compat.$argument: '{"MY":{{{éšè—åº•éƒ¨æ¼«æ¸¸æ ‡ç­¾}}},"DT":{{{éšè—åº•éƒ¨ç¬”è®°æ ‡ç­¾}}},"FX":{{{éšè—åº•éƒ¨å‘ç°æ ‡ç­¾}}}}'
    body_required: true
    binary_body: true

- http_response:
    name: å‘ç°é¡µå†…å®¹è¿‡æ»¤
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/link\/page\/discovery\/resource\/show
    script_url: https://raw.githubusercontent.com/Keywos/rule/main/script/wy/js/wyres.js
    body_required: true
    binary_body: true

- http_response:
    name: ä¸ªäººé¡µé¢å¸ƒå±€è°ƒæ•´
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/link\/position\/show\/resource
    script_url: https://raw.githubusercontent.com/Keywos/rule/main/script/wy/js/wyres.js
    body_required: true
    binary_body: true

- http_response:
    name: å…³æ³¨åˆ—è¡¨å‡€åŒ–
    match: ^https?:\/\/(?:ipv4|interface\d?)\.music\.163\.com\/eapi\/user\/follow\/users\/mixed\/get
    script_url: https://raw.githubusercontent.com/Keywos/rule/main/script/wy/js/wyres.js
    body_required: true
    binary_body: true
mitm:
  hostnames:
    includes:
    - interface*.music.163.com
    - ipv4.music.163.com
