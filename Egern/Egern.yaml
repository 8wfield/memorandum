# å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://doc.egernapp.com/zh-CN/docs/configuration/example
# FieldW18è‡ªç”¨é…ç½®
# æ—¶é—´ï¼š2025.02.13


# > ipæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
ipv6: false
# > HTTPç«¯å£ï¼ˆé»˜è®¤ï¼‰
http_port: 3080
# > SOCKSç«¯å£ï¼ˆé»˜è®¤ï¼‰
socks_port: 3090
# > å…è®¸å¤–éƒ¨è¿æ¥é€šè¿‡WIFIè®¿é—®è®¾å¤‡ä¸Šçš„ä»£ç†
allow_external_connections: true
# > ä»…è™šæ‹Ÿç½‘æ¥å£æ¨¡å¼
vif_only: true
# > éšè—VPNå›¾æ ‡ï¼ˆé»˜è®¤ï¼‰
hide_vpn_icon: false
# > DNSåŠ«æŒ
hijack_dns:
- '*:53'
# > è‡ªå®šä¹‰Geoipæ•°æ®åº“URL
geoip_db_url: https://github.com/xream/geoip/releases/latest/download/ipinfo.country-only-cn-private.mmdb
# > è‡ªå®šä¹‰ASNæ•°æ®åº“URL
asn_db_url: https://github.com/xream/geoip/releases/latest/download/ipinfo.asn
# > ä»£ç†å»¶è¿Ÿæµ‹è¯•URL
proxy_latency_test_url: http://www.gstatic.com/generate_204
# > ç›´è¿å»¶è¿Ÿæµ‹è¯•URL
direct_latency_test_url: http://connectivitycheck.platform.hicloud.com/generate_204
compat_route: false
include_all_networks: false
include_apns: false
include_cellular_services: false
include_local_networks: false
dns:
  bootstrap:
  - 119.29.29.29
  - 223.5.5.5
# > ä¸Šæ¸¸DNSæœåŠ¡åˆ—è¡¨
  upstreams:
    AliDNS:
    - quic://dns.alidns.com:853
    Google:
    - https://dns.google/dns-query
# > è½¬å‘DNSè§„åˆ™
  forward:
  - proxy_rule_set:
      match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All.list
      value: Google
  - wildcard:
      match: '*'
      value: AliNDS
  public_ip_lookup_url: https://ifconfig.me/ip
# > ç­–ç•¥ç»„é…ç½®
policy_groups:
- external:
    name: æˆ‘çš„èŠ‚ç‚¹
    type: select
    urls:
    - â€œå¤åˆ¶ä½ çš„è®¢é˜…é“¾æ¥â€
- select:
    name: Telegram
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Telegram.png
- select:
    name: TikTok
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/TikTok.png
- select:
    name: ChatGPT
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png
- select:
    name: YouTube
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/YouTube.png
- select:
    name: Twitter
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Twitter.png
- select:
    name: Spotify
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Spotify.png
- select:
    name: Instagram
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Instagram.png
- select:
    name: GitHub
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub_Letter.png
- select:
    name: Google
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    flatten: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google.png
- auto_test:
    name: é¦™æ¸¯ä¼˜é€‰
    policies:
    - æˆ‘çš„èŠ‚ç‚¹
    flatten: true
    filter: (?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)
    tolerance: 0
    timeout: 2
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/HongKong.png
- auto_test:
    name: å°æ¹¾ä¼˜é€‰
    policies:
    - æˆ‘çš„èŠ‚ç‚¹
    flatten: true
    filter: (?i)ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)
    tolerance: 0
    timeout: 2
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Taiwan.png
- auto_test:
    name: æ—¥æœ¬ä¼˜é€‰
    policies:
    - æˆ‘çš„èŠ‚ç‚¹
    flatten: true
    filter: (?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|(\b(JP|Japan)\b)
    tolerance: 0
    timeout: 2
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Japan.png
- auto_test:
    name: æ–°å›½ä¼˜é€‰
    policies:
    - æˆ‘çš„èŠ‚ç‚¹
    flatten: true
    filter: (?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)
    tolerance: 0
    timeout: 2
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Singapore.png
- auto_test:
    name: ç¾å›½ä¼˜é€‰
    policies:
    - æˆ‘çš„èŠ‚ç‚¹
    flatten: true
    filter: (?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ´›æ‰çŸ¶|åœ£ä½•å¡|(\b(US|United States)\b)
    tolerance: 0
    timeout: 2
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/UnitedStates.png
- fallback:
    name: Final
    policies:
    - é¦™æ¸¯ä¼˜é€‰
    - å°æ¹¾ä¼˜é€‰
    - æ—¥æœ¬ä¼˜é€‰
    - æ–°å›½ä¼˜é€‰
    - ç¾å›½ä¼˜é€‰
    icon: https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/Egern.png
# > ä»£ç†åˆ†æµè§„åˆ™
rules:
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/telegram.yaml
    policy: Telegram
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/tiktok.yaml
    policy: TikTok
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/twitter.yaml
    policy: Twitter
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/ref/heads/main/Egern/Rule/OpenAI.yaml
    policy: ChatGPT
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/youtube.yaml
    policy: YouTube
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/Spotify.yaml
    policy: Spotify
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/Instagram.yaml
    policy: Instagram
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/github.yaml
    policy: Google
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/Google.yaml
    policy: Google
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/APPLE.yaml
    policy: DIRECT
- rule_set:
    match: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Rule/Lan.yaml
    policy: DIRECT
- geoip:
    match: CN
    policy: DIRECT
    no_resolve: true
    disabled: false
- default:
    policy: Final
# > MITMé…ç½®
mitm:
  enabled: true
# > æ¨¡å—åˆ—è¡¨
modules:
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Beta/%E6%8B%A6%E6%88%AAHTTPDNS.beta.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Beta/%E5%B9%BF%E5%91%8A%E5%B9%B3%E5%8F%B0%E6%8B%A6%E6%88%AA%E5%99%A8.beta.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%8F%AF%E8%8E%89%E5%B9%BF%E5%91%8A%E8%BF%87%E6%BB%A4%E5%99%A8.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Module/TestFlightAccount.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/xream/scripts/main/surge/modules/network-info/net-lsp-x.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/8wfield/memorandum/refs/heads/main/Egern/Module/Turrit.yaml
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Beta/QQ%E9%9F%B3%E4%B9%90%E5%8E%BB%E5%B9%BF%E5%91%8A.beta.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Beta/Googleé‡å®šå‘.beta.sgmodule
  enabled: true
- name: ğŸŸè·³è¿‡ä»£ç†
  url: https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/sgmodule/General.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/hulesley/Personal/refs/heads/X/Tool/Egern/Module/Wechat.Enhanced.sgmodule
  enabled: true
- name: YouTubeå»å¹¿å‘Š
  url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Official/YouTube%E5%8E%BB%E5%B9%BF%E5%91%8A%5BMaasea%5D.official.sgmodule
  compat_arguments:
    '': ''
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%B0%8F%E8%9A%95%E9%9C%B8%E7%8E%8B%E9%A4%90%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E4%BA%AC%E4%B8%9C%E6%AF%94%E4%BB%B7.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E4%BA%AC%E4%B8%9C%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%BE%AE%E5%8D%9A%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E6%96%97%E9%B1%BC%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E7%BD%91%E6%98%93%E9%82%AE%E7%AE%B1%E5%A4%A7%E5%B8%88%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E8%8F%9C%E9%B8%9F%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E8%BD%AC%E8%BD%AC%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/é«˜å¾·åœ°å›¾å»å¹¿å‘Š.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E9%97%B2%E9%B1%BC%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E9%85%B7%E5%AE%89%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E8%88%AA%E6%97%85%E7%BA%B5%E6%A8%AA%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E7%99%BE%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%BD%91%E9%A1%B5%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E6%B7%98%E5%AE%9D%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E6%8B%BC%E5%A4%9A%E5%A4%9A%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%BE%AE%E4%BF%A1%E5%A4%96%E9%83%A8%E9%93%BE%E6%8E%A5%E8%A7%A3%E9%94%81.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%B0%8F%E7%BA%A2%E4%B9%A6%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%A4%B8%E5%85%8B%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%8E%BB%E5%B9%BF%E5%91%8A.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/YouTube%E7%BF%BB%E8%AF%91.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Official/%E5%B9%BF%E5%91%8A%E8%81%94%E7%9B%9F.official.sgmodule
  enabled: true
- name: ç•ªèŒ„å°è¯´å»å¹¿å‘Š
  url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Beta/%E7%95%AA%E8%8C%84%E5%B0%8F%E8%AF%B4%E5%8E%BB%E5%B9%BF%E5%91%8A.beta.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Beta/%E6%BB%B4%E6%BB%B4%E5%87%BA%E8%A1%8C%E5%8E%BB%E5%B9%BF%E5%91%8A.beta.sgmodule
  enabled: true
- name: Spotifyè§£é”
  url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Official/Spotify%20Plus.official.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Official/%E2%AD%90%EF%B8%8F%20BoxJs.official.sgmodule
  enabled: true
- url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/refs/heads/master/config/Egern.yaml
  enabled: true
- url: https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/Official/%E2%AD%90%EF%B8%8F%20Script%20Hub.official.sgmodule
  enabled: true
